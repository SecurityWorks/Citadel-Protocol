<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A kernel that only makes a single client-to-server connection Single Client-Server Connection Kernel"><title>citadel_sdk::prefabs::client::single_connection - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="citadel_sdk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0 (9fc6b4312 2025-01-07)" data-channel="1.84.0" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="favicon.png"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../../citadel_sdk/index.html"><img src="avarok.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../../citadel_sdk/index.html"><img src="avarok.png" alt="logo"></a><h2><a href="../../../../citadel_sdk/index.html">citadel_<wbr>sdk</a><span class="version">0.13.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module single_<wbr>connection</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#features" title="Features">Features</a></li><li><a href="#example" title="Example">Example</a></li><li><a href="#important-notes" title="Important Notes">Important Notes</a></li><li><a href="#related-components" title="Related Components">Related Components</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In citadel_<wbr>sdk::<wbr>prefabs::<wbr>client</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../../index.html">citadel_sdk</a>::<wbr><a href="../../index.html">prefabs</a>::<wbr><a href="../index.html">client</a></span><h1>Module <span>single_connection</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/citadel_sdk/prefabs/client/single_connection.rs.html#1-718">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A kernel that only makes a single client-to-server connection
Single Client-Server Connection Kernel</p>
<p>This module implements a network kernel for managing a single client-to-server connection
in the Citadel Protocol. It provides NAT traversal, peer discovery, and secure
communication channels between clients and a central server.</p>
<h2 id="features"><a class="doc-anchor" href="#features">§</a>Features</h2>
<ul>
<li>Multiple authentication modes (Credentials, Transient)</li>
<li>NAT traversal support with configurable UDP mode</li>
<li>Secure session management with customizable security settings</li>
<li>Object transfer handling for file/data exchange</li>
<li>Pre-shared key authentication for server access</li>
<li>Automatic connection lifecycle management</li>
</ul>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>citadel_sdk::prelude::<span class="kw-2">*</span>;
<span class="kw">use </span>citadel_sdk::prefabs::client::single_connection::SingleClientServerConnectionKernel;

<span class="kw">async fn </span>connect_to_server() -&gt; <span class="prelude-ty">Result</span>&lt;(), NetworkError&gt; {
    <span class="kw">let </span>settings = DefaultServerConnectionSettingsBuilder::transient(<span class="string">"127.0.0.1:25021"</span>)
        .with_udp_mode(UdpMode::Enabled)
        .build()<span class="question-mark">?</span>;

    <span class="kw">let </span>kernel = SingleClientServerConnectionKernel::new(
        settings,
        |conn| <span class="kw">async move </span>{
            <span class="macro">println!</span>(<span class="string">"Connected to server!"</span>);
            <span class="prelude-val">Ok</span>(())
        },
    );

    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h2 id="important-notes"><a class="doc-anchor" href="#important-notes">§</a>Important Notes</h2>
<ul>
<li>Only manages a single server connection at a time</li>
<li>Connection handler must be Send + Future</li>
<li>UDP mode affects NAT traversal capabilities</li>
<li>Object transfer requires proper handler setup</li>
</ul>
<h2 id="related-components"><a class="doc-anchor" href="#related-components">§</a>Related Components</h2>
<ul>
<li><a href="../../../prelude/trait.NetKernel.html" title="trait citadel_sdk::prelude::NetKernel"><code>NetKernel</code></a>: Base trait for network kernels</li>
<li><a href="../enum.ServerConnectionSettings.html" title="enum citadel_sdk::prefabs::client::ServerConnectionSettings"><code>ServerConnectionSettings</code></a>: Connection configuration</li>
<li><a href="../../struct.ClientServerRemote.html" title="struct citadel_sdk::prefabs::ClientServerRemote"><code>ClientServerRemote</code></a>: Remote connection handler</li>
<li><a href="../../../remote_ext/struct.CitadelClientServerConnection.html" title="struct citadel_sdk::remote_ext::CitadelClientServerConnection"><code>CitadelClientServerConnection</code></a>: Connection establishment data</li>
</ul>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.SingleClientServerConnectionKernel.html" title="struct citadel_sdk::prefabs::client::single_connection::SingleClientServerConnectionKernel">Single<wbr>Client<wbr>Server<wbr>Connection<wbr>Kernel</a></div><div class="desc docblock-short">This <a href="struct.SingleClientServerConnectionKernel.html" title="struct citadel_sdk::prefabs::client::single_connection::SingleClientServerConnectionKernel"><code>SingleClientServerConnectionKernel</code></a> is the base kernel type for other built-in implementations of <a href="../../../prelude/trait.NetKernel.html" title="trait citadel_sdk::prelude::NetKernel"><code>NetKernel</code></a>.
It establishes connections to a central node for purposes of NAT traversal and peer discovery, and depending on the application layer,
can leverage the client to server connection for other purposes that require communication between the two.</div></li></ul></section></div></main></body></html>